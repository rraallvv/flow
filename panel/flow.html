<link rel="import" href="packages://ui-kit/widget/index.html">
<link rel="import" href="flow-view.html">
<link rel="import" href="shader-graph/preview/cocos-preview.html">
<link rel="import" href="shader-graph/menu/search-menu.html">

<dom-module id="flow-editor">
	<link rel="import" type="css" href="flow.css">
	<template>
		<editor-toolbar>
			<div id="align-buttons" class="flex-none layout horizontal center center-justified">
				<editor-button title="[[_T('SCENE.align_top')]]" class="btn" on-click="_onAlignTop">
					<img src="../icon/align-top.png">
				</editor-button>
				<editor-button title= "[[_T('SCENE.align_v_center')]]" class= "btn" on-click= "_onAlignVCenter">
					<img src= "../icon/align-v-center.png">
				</editor-button>
				<editor-button title= "[[_T('SCENE.align_bottom')]]" class= "btn" on-click= "_onAlignBottom">
					<img src= "../icon/align-bottom.png">
				</editor-button>
				<editor-button title= "[[_T('SCENE.align_left')]]" class= "btn" on-click= "_onAlignLeft">
					<img src= "../icon/align-left.png">
				</editor-button>
				<editor-button title= "[[_T('SCENE.align_h_center')]]" class= "btn" on-click= "_onAlignHCenter">
					<img src= "../icon/align-h-center.png">
				</editor-button>
				<editor-button title= "[[_T('SCENE.align_right')]]" class= "btn" on-click= "_onAlignRight">
					<img src= "../icon/align-right.png">
				</editor-button>
			</div>
		</editor-toolbar>

		<div style="
			position:relative;
			width:100%;
			height:100%;
			">
			<div id="sidebar" style="
				position:absolute;
				left:0;
				top:0;
				width:200px;
				height:200px;
				">
				<cocos-preview id="preview" style="width:100%; height:200px; overflow:none;"></cocos-preview>
			</div>
			<div id="resize" style="
				position:absolute;
				left:200px;
				width:11px;
				height:100%;
				margin: 0 -3px;
				cursor:col-resize;
				z-index:2;
				">
				<div style="
					position: absolute;
					left:4px;
					height:100%;
					width:0px;
					border-left:solid 1px #333;
					border-right:solid 1px #606060;
					pointer-events:none;
					">
				</div>
				<div id="bar" style="
					position: absolute;
					left:2px;
					height:100%;
					width:3px;
					background:#fd942b;
					display:none;
					pointer-events:none;
					">
				</div>
			</div>
			<div id= "border" class= "border flex-1" style="
				position:absolute;
				left:200px;
				top:0;
				right:0;
				bottom:0;
				margin-left:3px;
				">
				<flow-view id="flowView" class="fit graph-container" tabindex="-1"></flow-view>
				<search-menu id="context-menu" activate-for-class="graph-container" class="context-menu"></search-menu>
				<editor-loader id= "loader" mask text= "[[_T('SHARED.loading')]]"></editor-loader>
				<div id= "dropArea" class= "fit" hidden on-dragover= "_onDragOver"></div>
			</div>
		</div>

		<editor-toolbar>
			<div class= "path select">[[itemPath]]</div>
		</editor-toolbar>
	</template>
	<script src= "flow.js"></script>
</dom-module>
